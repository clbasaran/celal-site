<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow">
    
    <title>Firebase ile iOS Uygulamalarında Real-time Veri — Celal Başaran</title>
    <meta name="description" content="Firebase Firestore kullanarak iOS uygulamalarınızda gerçek zamanlı veri senkronizasyonu nasıl yapılır? Combine framework ile entegrasyon örnekleri.">
    <meta name="keywords" content="Firebase, iOS Development, Real-time Data, Firestore, SwiftUI, Authentication">
    <meta name="author" content="Celal Başaran">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://celalbasaran.com/posts/firebase-realtime.html" />
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Firebase ile iOS Uygulamalarında Real-time Veri">
    <meta property="og:description" content="Firebase Firestore kullanarak iOS uygulamalarınızda gerçek zamanlı veri senkronizasyonu.">
    <meta property="og:image" content="https://celalbasaran.com/cb.png">
    <meta property="og:url" content="https://celalbasaran.com/posts/firebase-realtime.html">
    <meta property="og:type" content="article">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#0A84FF">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../cb.png">
    <link rel="apple-touch-icon" href="../cb.png">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="../style.css">
    
    <style>
        /* Apple UI Blog Post Styling */
        .blog-post-container {
            max-width: 720px;
            margin: 0 auto;
            padding: 32px 16px;
            min-height: 100vh;
        }
        
        .post-navigation {
            margin-bottom: 40px;
        }
        
        .back-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: var(--radius-small);
            transition: all var(--transition-fast);
            display: inline-flex;
            align-items: center;
            font-size: 16px;
        }
        
        .back-link:hover {
            background: var(--fill-secondary);
            transform: translateX(-4px);
        }
        
        .post-header {
            text-align: center;
            margin-bottom: 48px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--separator-opaque);
        }
        
        .post-meta {
            color: #888;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 16px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .post-title {
            font-size: 40px;
            font-weight: 700;
            line-height: 1.1;
            color: var(--text-primary);
            margin-bottom: 16px;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', system-ui, sans-serif;
        }
        
        .post-subtitle {
            font-size: 20px;
            line-height: 1.5;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .post-content {
            line-height: 1.75;
        }
        
        .post-content h2 {
            font-size: 28px;
            font-weight: 600;
            color: var(--text-primary);
            margin-top: 48px;
            margin-bottom: 16px;
            line-height: 1.3;
        }
        
        .post-content h3 {
            font-size: 22px;
            font-weight: 600;
            color: var(--text-primary);
            margin-top: 32px;
            margin-bottom: 12px;
            line-height: 1.4;
        }
        
        .post-content p {
            font-size: 18px;
            line-height: 1.75;
            color: var(--text-secondary);
            margin-bottom: 24px;
        }
        
        .post-content ul, .post-content ol {
            margin: 24px 0;
            padding-left: 24px;
        }
        
        .post-content li {
            font-size: 18px;
            line-height: 1.75;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }
        
        .post-content a {
            color: var(--primary);
            text-decoration: underline;
            text-underline-offset: 2px;
            transition: all var(--transition-fast);
        }
        
        .post-content a:hover {
            color: var(--primary-hover);
            text-decoration-thickness: 2px;
        }
        
        .post-content code {
            background: var(--surface-secondary);
            color: var(--primary);
            padding: 4px 8px;
            border-radius: 6px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace;
            font-size: 16px;
            font-weight: 500;
        }
        
        .post-content pre {
            background: var(--surface-elevated);
            border: 1px solid var(--separator-opaque);
            border-radius: 12px;
            padding: 24px;
            margin: 32px 0;
            overflow-x: auto;
            position: relative;
        }
        
        .post-content pre code {
            background: none;
            color: var(--text-primary);
            padding: 0;
            font-size: 14px;
            line-height: 1.6;
            white-space: pre;
        }
        
        .comparison-table {
            background: var(--surface-elevated);
            border: 1px solid var(--separator-opaque);
            border-radius: 12px;
            overflow: hidden;
            margin: 32px 0;
        }
        
        .comparison-table table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .comparison-table th {
            background: var(--primary);
            color: white;
            padding: 16px;
            text-align: left;
            font-weight: 600;
        }
        
        .comparison-table td {
            padding: 16px;
            border-bottom: 1px solid var(--separator-opaque);
        }
        
        .comparison-table tr:last-child td {
            border-bottom: none;
        }
        
        .post-footer {
            margin-top: 64px;
            padding-top: 32px;
            border-top: 1px solid var(--separator-opaque);
        }
        
        .author-section {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 32px;
            padding: 20px;
            background: var(--surface-primary);
            border-radius: var(--radius-large);
            border: 1px solid var(--separator-opaque);
        }
        
        .author-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .author-info h4 {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }
        
        .author-info p {
            font-size: 14px;
            color: var(--text-tertiary);
            margin: 0;
        }
        
        .post-navigation-footer {
            display: flex;
            justify-content: space-between;
            gap: 16px;
        }
        
        .nav-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            padding: 12px 20px;
            border: 1px solid var(--separator-opaque);
            border-radius: var(--radius-medium);
            transition: all var(--transition-standard);
            flex: 1;
            text-align: center;
        }
        
        .nav-link:hover {
            background: var(--fill-secondary);
            border-color: var(--primary);
            transform: translateY(-2px);
        }
        
        .fade-in-up {
            opacity: 0;
            transform: translateY(32px);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .fade-in-up.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .blog-post-container {
                padding: 24px 16px;
            }
            
            .post-title {
                font-size: 32px;
            }
            
            .post-subtitle {
                font-size: 18px;
            }
            
            .post-content h2 {
                font-size: 24px;
                margin-top: 32px;
            }
            
            .post-content h3 {
                font-size: 20px;
                margin-top: 24px;
            }
            
            .post-content p,
            .post-content li {
                font-size: 16px;
            }
            
            .author-section {
                flex-direction: column;
                text-align: center;
            }
            
            .post-navigation-footer {
                flex-direction: column;
            }
            
            .comparison-table {
                font-size: 14px;
            }
            
            .comparison-table th,
            .comparison-table td {
                padding: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="blog-post-container">
        <!-- Navigation -->
        <nav class="post-navigation fade-in-up">
            <a href="../blog.html" class="back-link">← Blog'a Geri Dön</a>
        </nav>
        
        <!-- Post Header -->
        <header class="post-header fade-in-up">
            <div class="post-meta">8 Mayıs 2025 • Celal Başaran</div>
            <h1 class="post-title">Firebase ile iOS Uygulamalarında Real-time Veri</h1>
            <p class="post-subtitle">Firebase Firestore kullanarak iOS uygulamalarınızda gerçek zamanlı veri senkronizasyonu nasıl yapılır? Combine framework ile entegrasyon örnekleri.</p>
        </header>
        
        <!-- Post Content -->
        <article class="post-content">
            <div class="fade-in-up">
                <h2>🔥 Firebase Neden Bu Kadar Popüler?</h2>
                <p>Firebase, Google'ın geliştirdiği backend-as-a-service (BaaS) platformu olarak, iOS geliştiricilerin hayatını büyük ölçüde kolaylaştırıyor. Özellikle real-time uygulamalar geliştirmek istediğinizde Firebase'in sunduğu avantajlar:</p>
                
                <ul>
                    <li><strong>Gerçek zamanlı veri senkronizasyonu:</strong> Firestore ile veriler anlık olarak tüm cihazlarda senkronize olur</li>
                    <li><strong>Otomatik offline cache:</strong> İnternet bağlantısı olmadığında bile uygulama çalışmaya devam eder</li>
                    <li><strong>Kolay authentication yönetimi:</strong> Email, Google, Apple ID gibi çoklu giriş seçenekleri</li>
                    <li><strong>SwiftUI ile tam uyum:</strong> Reactive programming paradigması ile mükemmel entegrasyon</li>
                </ul>
            </div>

            <div class="fade-in-up">
                <h2>📡 Firestore ile Gerçek Zamanlı Veri</h2>
                <p>Firestore'un en güçlü özelliklerinden biri <code>addSnapshotListener</code> metodudur. Bu metod sayesinde veritabanındaki değişiklikleri gerçek zamanlı olarak takip edebilirsiniz:</p>
                
                <pre><code>import FirebaseFirestore

class MessageService: ObservableObject {
    @Published var messages: [Message] = []
    private var db = Firestore.firestore()
    private var listener: ListenerRegistration?
    
    func startListening() {
        listener = db.collection("mesajlar")
            .order(by: "timestamp", descending: false)
            .addSnapshotListener { [weak self] snapshot, error in
                guard let documents = snapshot?.documents else {
                    print("Error fetching documents: \(error?.localizedDescription ?? "Unknown error")")
                    return
                }
                
                self?.messages = documents.compactMap { document in
                    try? document.data(as: Message.self)
                }
            }
    }
    
    func stopListening() {
        listener?.remove()
    }
}</code></pre>
            </div>
                
            <div class="fade-in-up">
                <h2>🔄 SnapshotListener vs getDocuments</h2>
                <p>Firebase'de veri çekmenin iki ana yöntemi vardır. Her birinin kendine özgü kullanım alanları vardır:</p>
                
                <div class="comparison-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Yöntem</th>
                                <th>Kullanım Alanı</th>
                                <th>Avantajlar</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>getDocuments()</code></td>
                                <td style="color: var(--text-secondary)">Tek seferlik veri çekimi</td>
                                <td style="color: var(--text-secondary)">Düşük maliyet, basit implementasyon</td>
                            </tr>
                            <tr>
                                <td><code>addSnapshotListener</code></td>
                                <td style="color: var(--text-secondary)">Gerçek zamanlı veri takibi</td>
                                <td style="color: var(--text-secondary)">Otomatik güncellemeler, reactive UI</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="fade-in-up">
                <h2>🔐 Authentication Entegrasyonu</h2>
                <p>Firebase Authentication ile kullanıcı yönetimi oldukça basittir. SwiftUI ile entegre bir giriş sistemi oluşturmak için:</p>
                
                <pre><code>import FirebaseAuth

class AuthService: ObservableObject {
    @Published var isSignedIn = false
    @Published var currentUser: User?
    
    init() {
        // Auth state değişikliklerini dinle
        Auth.auth().addStateDidChangeListener { [weak self] _, user in
            self?.isSignedIn = user != nil
            self?.currentUser = user
        }
    }
    
    func signIn(withEmail email: String, password: String) async throws {
        let result = try await Auth.auth().signIn(withEmail: email, password: password)
        await MainActor.run {
            self.currentUser = result.user
        }
    }
    
    func signOut() throws {
        try Auth.auth().signOut()
        currentUser = nil
    }
}</code></pre>
            </div>

            <div class="fade-in-up">
                <h2>🌐 Offline Desteği</h2>
                <p>Firebase'in en güçlü özelliklerinden biri offline destek sağlamasıdır. Uygulamanız internet bağlantısı olmadığında bile çalışmaya devam eder:</p>
                
                <pre><code>// AppDelegate veya SceneDelegate içinde
import FirebaseFirestore

func configureFirestore() {
    let settings = FirestoreSettings()
    settings.isPersistenceEnabled = true
    settings.cacheSizeBytes = FirestoreCacheSizeUnlimited
    
    Firestore.firestore().settings = settings
}

// Offline veri yazma
func addMessageOffline(_ message: Message) {
    db.collection("mesajlar").addDocument(data: [
        "text": message.text,
        "userId": message.userId,
        "timestamp": FieldValue.serverTimestamp()
    ]) { error in
        // Bu işlem offline bile olsa cache'e yazılır
        // İnternet bağlantısı geldiğinde otomatik sync olur
    }
}</code></pre>
            </div>

            <div class="fade-in-up">
                <h2>🎯 SwiftUI ile Pratik Örnek</h2>
                <p>Firebase'i SwiftUI ile kullanırken en iyi pratikleri gösteren basit bir chat uygulaması örneği:</p>
                
                <pre><code>struct ChatView: View {
    @StateObject private var messageService = MessageService()
    @State private var newMessageText = ""
    
    var body: some View {
        VStack {
            ScrollView {
                LazyVStack {
                    ForEach(messageService.messages) { message in
                        MessageRow(message: message)
                    }
                }
            }
            
            HStack {
                TextField("Mesaj yazın...", text: $newMessageText)
                    .textFieldStyle(RoundedBorderTextFieldStyle())
                
                Button("Gönder") {
                    sendMessage()
                }
                .disabled(newMessageText.trimmingCharacters(in: .whitespacesAndNewlines).isEmpty)
            }
            .padding()
        }
        .onAppear {
            messageService.startListening()
        }
        .onDisappear {
            messageService.stopListening()
        }
    }
    
    private func sendMessage() {
        messageService.sendMessage(newMessageText)
        newMessageText = ""
    }
}</code></pre>
            </div>

            <div class="fade-in-up">
                <h2>⚡ Performans Optimizasyonu</h2>
                <p>Firebase ile çalışırken performansı artırmak için dikkat etmeniz gereken önemli noktalar:</p>
                
                <pre><code>// Pagination ile büyük veri setlerini yönetme
class PaginatedMessageService: ObservableObject {
    @Published var messages: [Message] = []
    private let pageSize = 20
    private var lastDocument: DocumentSnapshot?
    
    func loadMoreMessages() {
        var query = db.collection("mesajlar")
            .order(by: "timestamp", descending: true)
            .limit(to: pageSize)
        
        if let lastDocument = lastDocument {
            query = query.start(afterDocument: lastDocument)
        }
        
        query.getDocuments { [weak self] snapshot, error in
            guard let documents = snapshot?.documents else { return }
            
            self?.lastDocument = documents.last
            let newMessages = documents.compactMap { try? $0.data(as: Message.self) }
            self?.messages.append(contentsOf: newMessages)
        }
    }
}</code></pre>
            </div>

            <div class="fade-in-up">
                <h2>💡 Best Practices</h2>
                <p>Firebase ile çalışırken dikkat etmeniz gereken önemli noktalar:</p>
                
                <ul>
                    <li><strong>DocumentSnapshot.exists kontrolü yapın:</strong> Her zaman belgenin var olup olmadığını kontrol edin</li>
                    <li><strong>Lifecycle'da listener'ları yönetin:</strong> <code>onDisappear</code> veya <code>deinit</code> içinde listener'ları kaldırın</li>
                    <li><strong>Security rules'ları unutmayın:</strong> Production'da mutlaka güvenlik kurallarını tanımlayın</li>
                    <li><strong>ObservableObject kullanın:</strong> SwiftUI ile reactive programming paradigmasını tam olarak kullanın</li>
                    <li><strong>Pagination uygulayın:</strong> Büyük veri setleri için <code>limit()</code> ve <code>startAfter()</code> kullanın</li>
                </ul>
            </div>

            <div class="fade-in-up">
                <h2>🎉 Sonuç</h2>
                <p>Firebase, iOS uygulamalarında real-time özellikler geliştirmek için mükemmel bir platform. SwiftUI ile birlikte kullanıldığında reactive programming paradigması sayesinde hem geliştiriciler hem de kullanıcılar için harika bir deneyim sunuyor.</p>
                
                <p>Bu yazıda temel Firebase entegrasyonu, authentication, offline destek ve performans optimizasyonu konularını ele aldık. Firebase'in sunduğu diğer özellikler (Cloud Functions, Storage, Analytics) hakkında daha fazla bilgi için <a href="https://firebase.google.com/docs/ios/setup" target="_blank">Firebase dokümantasyonunu</a> incelemenizi öneririm.</p>
            </div>
        </article>
        
        <!-- Post Footer -->
        <footer class="post-footer fade-in-up">
            <div class="author-section">
                <img src="../cb.png" alt="Celal Başaran" class="author-avatar">
                <div class="author-info">
                    <h4>Celal Başaran</h4>
                    <p>iOS Developer & Swift Enthusiast</p>
                </div>
            </div>
            
            <nav class="post-navigation-footer">
                <a href="ios18-yenilikler.html" class="nav-link">← Önceki Yazı</a>
                <a href="macos-rehberi.html" class="nav-link">Sonraki Yazı →</a>
            </nav>
        </footer>
    </div>

    <script>
        // Apple-style scroll animations
        document.addEventListener('DOMContentLoaded', function() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);

            const animatedElements = document.querySelectorAll('.fade-in-up');
            animatedElements.forEach((element, index) => {
                element.style.transitionDelay = `${index * 0.1}s`;
                observer.observe(element);
            });
        });
    </script>
</body>
</html> 